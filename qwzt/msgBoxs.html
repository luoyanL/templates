<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<link th:href="@{{basePath}/qwzt/css/msgbox.css(basePath=${BASE_PATH})}" rel="stylesheet" type="text/css">
<div id="id_dqdp_tip" style="position: absolute;"></div>
<div class="overlay" id="overlayDiv" style="display: none;"></div>

<div class="modal-box" id="confirmDivBox" style="display: none;">
    <div class="modal-header">
        <h3 id="confirmDivBoxTitle"></h3>
        <span class="modal-del" id="confirmDivBoxClose">×</span>
    </div>
    <div class="modal-body">
        <form method="get" action="#" class="form-horizontal form mt20">
            <div class="form-item">
                <p class="tc f14" id="confirmDivBoxMsg"></p>
            </div>
            <div class="form-action tc mt20 mb30 mb20">
                <%--<a href="javascript:void(0);" id="confirmDivBoxOk" class="btn orangeBtn twoBtn" >确定</a>
                <a href="javascript:void(0);" id="confirmDivBoxFail" class="btn writeBtn twoBtn ml10">取消</a>--%>
                <a href="javascript:void(0);" id="confirmDivBoxOk" class="btn writeBtn twoBtn">确定</a>
                <a href="javascript:void(0);" id="confirmDivBoxFail" class="btn orangeBtn twoBtn ml10">取消</a>
            </div>
        </form>
    </div>
</div>

<!-- imMsgBox -->
<div class="modal-box" id="imMsgBox" style="display: none;">
    <div class="modal-header">
        <h3 id="imMsgBoxTitle">title</h3>
        <span class="modal-del">×</span>
    </div>
    <div class="modal-body mt20" id='modal-body'>
        <div class="form-item">
            <p class="tc f14" id="imMsgBoxMsg">msg</p>
        </div>
        <div class="form-action tc mt20 mb30">
            <a id="imMsgBoxEnterBut" href="javascript:void(0);" class="btn orangeBtn twoBtn">确定</a>
        </div>
    </div>
</div>

<!-- 正在操作 -->
<div class="modal-box" id="upFileId_overlay" style="display: none;">
    <!-- <div class="modal-header">
        <h3 id="title"></h3>
    </div> -->
    <div class="modal-body mt20">
        <div class="form-item">
            <p class="tc f14" id="title_overlay">正在加载...</p>
        </div>
    </div>
</div>
<!-- end正在操作 -->

<!-- imMsgBox end -->
<script type="text/javascript" defer="defer">
    $(window.top.document).find("#imMsgBox .modal-del")[0].onclick = null;
    $(window.top.document).find("#imMsgBox .modal-del")[0].onclick = function () {
        var obj = $(window.top.document);
        obj.find('#imMsgBox').hide();
        if (obj.find('#overlayDiv').css("z-index") == "1104") {
            obj.find('#overlayDiv').css("z-index", 1100)
        } else {
            obj.find('#overlayDiv').hide();
        }
    }
    var imMsgCallback;
    _alert = function (title, msg, callback, btnName) {
        var obj = $(window.top.document);
        imMsgCallback = callback;
        obj.find('#imMsgBoxTitle').html(title);
        obj.find('#imMsgBoxMsg').html(msg);
        if (btnName) {
            obj.find('#imMsgBoxEnterBut').html(btnName);
        }
        else {
            obj.find('#imMsgBoxEnterBut').html("确定");
        }
        if (obj.find('#overlayDiv').css({"display": "none"})) {
            obj.find('#overlayDiv').show();
        } else {

            obj.find('#overlayDiv').css({"z-index": 1104});


        }
        obj.find("#imMsgBox").show();
        obj.find("#imMsgBox").css('top', top + 'px');
        obj.find('#imMsgBoxEnterBut')[0].onclick = null;
        obj.find('#imMsgBoxEnterBut')[0].onclick = function () {
            obj.find('#imMsgBox').hide();
            if (obj.find('#overlayDiv').css("z-index") == "1104") {
                obj.find('#overlayDiv').css("z-index", 1100)
            } else {
                obj.find('#overlayDiv').hide();
            }
            obj.find('.loadingMask').hide();
            if (imMsgCallback) imMsgCallback.call(imMsgCallback, null, null);
        };
    };

    function showLoading(title) {
        var obj = $(window.top.document);
        obj.find('#title_overlay').html(title);
        obj.find('#overlayDiv').show();
        obj.find("#upFileId_overlay").show();
    };

    function hideLoading() {
        var obj = $(window.top.document);
        obj.find('#upFileId_overlay').hide();
        obj.find('#overlayDiv').hide();
    };

    function alertTime(obj) {//高级搜索双日历插件
        $(obj).dateRangePicker();
    }


    /**确认框弹出层*/
    function _confirm(title, msg, button, callback, flag) {
        imMsgCallback = callback;
        var obj = $(window.top.document).find('#confirmDivBox');
        obj.find('#confirmDivBoxTitle').html(title);
        obj.find('#confirmDivBoxMsg').html(msg);
        obj.find('#confirmDivBoxOk').html("确定");
        obj.find('#confirmDivBoxFail').html("取消");
        if (button && button != null && button != "") {
            var split = button.split("|");
            obj.find('#confirmDivBoxOk').html(split[0]);
            obj.find('#confirmDivBoxFail').html(split[1]);
        }
        $(window.top.document).find('#overlayDiv').show();
        obj.show();
        obj.css('top', top + 'px');
        obj.find('#confirmDivBoxOk').unbind("click");
        obj.find('#confirmDivBoxOk').bind("click",
            function () {
                obj.find('#confirmDivBoxFail').unbind("click").removeClass('writeBtn').addClass('orangeBtn');
                obj.find('#confirmDivBoxOk').unbind("click").removeClass('orangeBtn').addClass('writeBtn');
                ;
                obj.find('#confirmDivBoxClose').unbind("click");
                obj.hide();
                $(window.top.document).find('#overlayDiv').hide();
                imMsgCallback.ok && imMsgCallback.ok.call(imMsgCallback.ok, null, null);
            }
        );
        obj.find('#confirmDivBoxFail').unbind("click");
        obj.find('#confirmDivBoxFail').bind("click",
            function () {
                obj.find('#confirmDivBoxFail').unbind("click").removeClass('writeBtn').addClass('orangeBtn');
                obj.find('#confirmDivBoxOk').unbind("click").removeClass('orangeBtn').addClass('writeBtn');
                ;
                obj.find('#confirmDivBoxClose').unbind("click");
                obj.hide();
                $(window.top.document).find('#overlayDiv').hide();
                imMsgCallback.fail && imMsgCallback.fail.call(imMsgCallback.fail, null, null);
            }
        );
        obj.find('#confirmDivBoxClose').unbind("click");
        obj.find('#confirmDivBoxClose').bind("click",
            function () {
                obj.find('#confirmDivBoxFail').unbind("click").removeClass('writeBtn').addClass('orangeBtn');
                ;
                obj.find('#confirmDivBoxOk').unbind("click").removeClass('orangeBtn').addClass('writeBtn');
                ;
                obj.find('#confirmDivBoxClose').unbind("click");
                obj.hide();
                $(window.top.document).find('#overlayDiv').hide();
                imMsgCallback.fail && imMsgCallback.fail.call(imMsgCallback.fail, null, null);
            }
        );
        if (flag) {
            obj.find('#confirmDivBoxOk').removeClass('writeBtn').addClass('orangeBtn');
            obj.find('#confirmDivBoxFail').removeClass('orangeBtn').addClass('writeBtn');
        }
    }
</script>